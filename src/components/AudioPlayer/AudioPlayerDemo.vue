<!--
  éŸ³é¢‘æ’­æ”¾å™¨ç¤ºä¾‹ç»„ä»¶
  
  å±•ç¤ºå¦‚ä½•ç‚¹å‡»MP3æ–‡ä»¶è§¦å‘éŸ³é¢‘æ’­æ”¾
-->
<script setup lang="ts">
import { ref } from 'vue';
import { audioService } from './index';

// ç¤ºä¾‹éŸ³é¢‘æ–‡ä»¶åˆ—è¡¨
const audioFiles = ref([
  {
    name: 'è¿œç¨‹ç¤ºä¾‹ - éŸ³é¢‘1.mp3',
    path: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3',
    isRemote: true
  },
  {
    name: 'è¿œç¨‹ç¤ºä¾‹ - éŸ³é¢‘2.mp3',
    path: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3',
    isRemote: true
  },
  {
    name: 'è¿œç¨‹ç¤ºä¾‹ - éŸ³é¢‘3.mp3',
    path: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3',
    isRemote: true
  },
  {
    name: 'æœ¬åœ°ç¤ºä¾‹ - å‘¨ä¼ é›„é»„æ˜.mp3',
    path: 'å‘¨ä¼ é›„é»„æ˜.mp3',
    isRemote: false
  }
]);

// å¤„ç†éŸ³é¢‘æ–‡ä»¶ç‚¹å‡»
const handleAudioClick = (file: { path: string, name: string }) => {
  audioService.playAudio(file.path, file.name);
};
</script>

<template>
  <div class="audio-player-demo">
    <h2>éŸ³é¢‘æ’­æ”¾å™¨ç¤ºä¾‹</h2>
    <p>ç‚¹å‡»ä¸‹é¢çš„éŸ³é¢‘æ–‡ä»¶è¿›è¡Œæ’­æ”¾ï¼š</p>
    
    <ul class="audio-list">
      <li v-for="(file, index) in audioFiles" :key="index" class="audio-item">
        <button class="audio-button" @click="handleAudioClick(file)">
          <span class="audio-icon">ğŸµ</span>
          <span class="audio-name">{{ file.name }}</span>
          <span class="audio-type">{{ file.isRemote ? '(è¿œç¨‹)' : '(æœ¬åœ°)' }}</span>
        </button>
      </li>
    </ul>
    
    <div class="demo-info">
      <h3>ä½¿ç”¨è¯´æ˜</h3>
      <p>1. ç‚¹å‡»éŸ³é¢‘æ–‡ä»¶åç§°æ’­æ”¾éŸ³é¢‘</p>
      <p>2. ä½¿ç”¨æ’­æ”¾å™¨æ§åˆ¶æ æ§åˆ¶æ’­æ”¾</p>
      <p>3. å¯ä»¥æœ€å°åŒ–æˆ–å…³é—­æ’­æ”¾å™¨</p>
    </div>
  </div>
</template>

<style scoped lang="scss">
.audio-player-demo {
  padding: 20px;
  max-width: 600px;
  margin: 0 auto;
  
  h2 {
    font-size: 1.5rem;
    margin-bottom: 16px;
    color: #333;
  }
  
  p {
    margin-bottom: 16px;
    color: #666;
  }
  
  .audio-list {
    list-style: none;
    padding: 0;
    margin: 0 0 24px 0;
    border: 1px solid #eee;
    border-radius: 8px;
    overflow: hidden;
    
    .audio-item {
      border-bottom: 1px solid #eee;
      
      &:last-child {
        border-bottom: none;
      }
      
      .audio-button {
        display: flex;
        align-items: center;
        width: 100%;
        padding: 12px 16px;
        background: none;
        border: none;
        text-align: left;
        cursor: pointer;
        transition: background-color 0.2s ease;
        
        &:hover {
          background-color: #f5f5f5;
        }
        
        .audio-icon {
          margin-right: 12px;
          font-size: 20px;
        }
        
        .audio-name {
          flex-grow: 1;
          font-weight: 500;
        }
        
        .audio-type {
          font-size: 0.8rem;
          color: #999;
          margin-left: 8px;
        }
      }
    }
  }
  
  .demo-info {
    background-color: #f9f9f9;
    border-radius: 8px;
    padding: 16px;
    
    h3 {
      font-size: 1.1rem;
      margin-bottom: 12px;
      color: #333;
    }
    
    p {
      margin-bottom: 8px;
      font-size: 0.9rem;
    }
  }
}
</style> 